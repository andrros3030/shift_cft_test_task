# Тестовое задание для проекта ШИФТ компании ЦФТ
Выполнил Рощупкин Андрей Владимирович от 19.12.2021 (подготовлено к 27.12.2021) в рамках отбора на курсы.

При написании и отладке запросов использовалась СУБД SQLite версии 3.36.0
# Задания:

~~1.  Подготовьте DDL-скрипты создания объектов для приведённой модели: создание таблиц,
первичных, уникальных, внешних ключей и т.д.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/ddl.sql">DDL</a>

~~2.  Заполните таблицы примерами из приложенного скрипта.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/dml.sql">DML</a>

~~3.	Подготовьте скрипты заполнения таблиц тестовыми данными, достаточными для выполнения заданий ниже.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/dml2.sql">DML addon</a>

~~4.	Сформируйте отчет, который содержит все счета, относящиеся к продуктам типа ДЕПОЗИТ, принадлежащих клиентам, у которых нет открытых продуктов типа КРЕДИТ.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task4.sql">select script</a>

~~5.	Сформируйте выборку, который содержит средние движения по счетам в рамках одного произвольного дня, в разрезе типа продукта.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task5.sql">select script</a>

~~6.	Сформируйте выборку, в который попадут клиенты, у которых были операции по счетам за прошедший месяц от текущей даты. Выведите клиента и сумму операций за день в разрезе даты.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task6.sql">select script</a>

~~7.	В результате сбоя в базе данных разъехалась информация между остатками и операциями по счетам. Напишите нормализацию (процедуру выравнивающую данные), которая найдет такие счета и восстановит остатки по счету.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task7.sql">update script</a>

~~8.	Сформируйте выборку, который содержит информацию о клиентах, которые полностью погасили кредит, но при этом не закрыли продукт и пользуются им дальше (по продукту есть операция новой выдачи кредита).~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task8.sql">select script</a>

~~9.	Закройте продукты (установите дату закрытия равную текущей) типа КРЕДИТ, у которых произошло полное погашение, но при этом не было повторной выдачи.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task9.sql">update script</a>

~~10.	Закройте возможность открытия (установите дату окончания действия) для типов продуктов, по счетам продуктов которых, не было движений более одного месяца.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task10.sql">update script</a>

~~11.	В модель данных добавьте сумму договора по продукту. Заполните поле для всех продуктов суммой максимальной дебетовой операции по счету для продукта типа КРЕДИТ, и суммой максимальной кредитовой операции по счету продукта для продукта типа ДЕПОЗИТ или КАРТА.~~ <a href="https://github.com/andrros3030/shift_cft_test_task/blob/main/task11.sql">alter + update script</a>
